{% extends "base.html" %}
{% block content %}
<div class="container">
  <a href="{% url 'restaurant_search' %}"><button class="secondary-btn">Back to Restaurants</button></a>
  <h2>{{ restaurant.name }}</h2>
  <p><strong>Type:</strong> {{ restaurant.cuisine_type }}</p>
  <p><strong>Address:</strong> {{ restaurant.address_line1 }}{% if restaurant.address_line2 %}, {{ restaurant.address_line2 }}{% endif %}, {{ restaurant.city }}, {{ restaurant.province }}, {{ restaurant.postal_code }}, {{ restaurant.country }}</p>
  
  {% if rating_stats %}
    <div class="card" style="margin: 20px 0;">
      <h3>Rating Overview</h3>
      <div style="display: flex; align-items: center; margin: 15px 0;">
        <span style="width: 80px; font-weight: 500;">Lowest</span>
        <div style="flex: 1; height: 30px; background: linear-gradient(to right, #E07A1F 0%, #FB8B24 50%, #5B5941 100%); border-radius: 15px; position: relative; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
          <div style="position: absolute; left: 0; top: -25px; color: #E07A1F; font-weight: bold;">{{ rating_stats.min }}</div>
          <div style="position: absolute; left: 50%; transform: translateX(-50%); top: -25px; color: #FB8B24; font-weight: bold;">{{ rating_stats.avg }}</div>
          <div style="position: absolute; right: 0; top: -25px; color: #5B5941; font-weight: bold;">{{ rating_stats.max }}</div>
        </div>
        <span style="width: 80px; text-align: right; font-weight: 500;">Highest</span>
      </div>
      <p style="text-align: center; color: rgba(91, 89, 65, 0.7); margin-top: 30px;">Average Rating: <strong style="color: #FB8B24;">{{ rating_stats.avg }}/10</strong></p>
    </div>
  {% endif %}
  
  {% if restaurant.menu %}
    <a href="{% url 'view_menu' restaurant.id %}"><button>View Menu</button></a>
  {% else %}
    <a href="{% url 'add_menu' restaurant.id %}"><button>Add Menu</button></a>
  {% endif %}
</div>
{% endblock %}