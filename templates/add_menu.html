{% extends "base.html" %}
{% block content %}
<div class="container">
  <a href="{% url 'restaurant_detail' restaurant.id %}"><button class="secondary-btn">Back to Restaurant</button></a>
  <h2>Add Menu for {{ restaurant.name }}</h2>
  
  <form method="post" id="menu-form">
    {% csrf_token %}
    <div id="menu-items">
      <div class="menu-item">
        <label>Item Name:</label>
        <input type="text" name="item_name_0" required>
        <label>Description (optional):</label>
        <textarea name="item_description_0"></textarea>
        <label>Price:</label>
        <input type="number" step="0.01" name="item_price_0" required>
      </div>
    </div>
    <button type="button" onclick="addMenuItem()">+</button>
    <button type="submit">Save Menu</button>
  </form>

  <script>
    let itemCount = 1;
    function addMenuItem() {
      const container = document.getElementById('menu-items');
      const div = document.createElement('div');
      div.className = 'menu-item';
      div.innerHTML = `
        <label>Item Name:</label>
        <input type="text" name="item_name_${itemCount}" required>
        <label>Description (optional):</label>
        <textarea name="item_description_${itemCount}"></textarea>
        <label>Price:</label>
        <input type="number" step="0.01" name="item_price_${itemCount}" required>
      `;
      container.appendChild(div);
      itemCount++;
    }
  </script>
</div>
{% endblock %}